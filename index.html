<html>
    <head>
        <title>RoomPlanner</title>
        <link rel="stylesheet" href="style.css">
    </head>
    <body>
        <div class="prop-selector" id="prop-selector">
            <div class="prop-list" id="prop-list"></div>
            <div class="custom-prop-dialog" id="custom-prop-dialog">
                <form class="custom-prop-settings-wrapper" id="custom-prop-form" name="custom-prop-form">
                    <input type="text" placeholder="Name" id="custom-prop-name" required>
                    <div><input type="number" placeholder="Width" id="custom-prop-width" step="0.01" required><span>m</span></div>
                    <div><input type="number" placeholder="Length" id="custom-prop-length" step="0.01" required><span>m</span></div>
                    <div class="custom-prop-background">
                        <div>Choose a color or upload a file</div>
                        <div>
                            <input type="file" accept=".png, .jpeg, .jpg" id="custom-prop-upload" name="custom-prop-file">
                            <input type="hidden" id="custom-prop-img-url">
                            <input type="hidden" id="custom-prop-img-name">
                            <input type="color" id="custom-prop-color">
                        </div>
                        <input type="submit" value="Add">
                    </div>
                </form>
            </div>
        </div>
        <div class="content">
            <div class="upload-area" id="upload-area">
                <div class="layout-info">
                    <div class="file-name-wrapper">
                        <div>Opened image:</div>
                        <div id="file-name"></div>
                    </div>
                    <div class="scale-wrapper">
                        <div>Scale:</div>
                        <div id="scale-info"></div>
                    </div>
                </div>
                <div class="button-groups">
                    <div class="settings">
                        <input type="file" accept=".png, .jpeg, .jpg" id="upload-layout" name="file" hidden>
                        <button id="upload-layout-button">Upload layout</button>
                        <button id="scale-button" style="display: none">Scale</button>
                        <div class="load-download-buttons">
                            <button id="load-model-file-input-button">Load model</button>
                            <input type="file" id="load-model-file-input" accept=".rp" hidden>
                            <button id="download-model-button" disabled>Download model</button>
                        </div>
                    </div>
                    <div class="planning">
                        <button id="clear-button">Clear props</button>
                        <button id="prop-button">Props</button>
                        <button id="measure-button">New measurement</button>
                        <span id="action"></span>
                    </div>
                </div>
            </div>
            <div class="instructions">
                <strong>While holding a prop:</strong> Use A/D to rotate it slightly or W/S to rotate it 90 degrees. Use Escape/Delete to remove it
            </div>
            <div>
                <div class="layout-container" id="layout-container">
                    <div class="layout" id="layout"></div>
                    <svg class="pathCanvas" id="canvas"></svg>
                </div>
            </div>
        </div>
        <div style="display: none">
            <div class="props">
                <div draggable="true" title="Single Bed" class="prop" id="single-bed"></div>
                <div draggable="true" title="Double Bed" class="prop" id="double-bed"></div>
                <div draggable="true" title="Bookshelf 80x28" class="prop" id="billy-80"></div>
                <div draggable="true" title="Bookshelf 40x28" class="prop" id="billy-40"></div>
                <div draggable="true" title="Sofa" class="prop" id="sofa"></div>
                <div draggable="true" title="Dinner table" class="prop" id="dinner-table"></div>
            </div>
            <div draggable="true" class="measuring-point" id="measuring-point"></div>
            <div class="measurement-length" id="measurement-length"></div>
            <span id="add-custom-prop" class="add-custom-prop">Add custom prop</span>
            <span id="remove-custom-prop" class="remove-custom-prop">Remove custom prop</span>
        </div>
        <footer><a href="https://github.com/marc7s">marc7s</a></footer>
    </body>
    <script src="script.js"></script>
    <script src="zip-no-worker.min.js"></script>
    <script src="parse.js"></script>
    <script src="load.js"></script>
    <script src="save.js"></script>
</html>